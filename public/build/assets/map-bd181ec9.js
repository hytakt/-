window.initAutocomplete=function(){const o=new google.maps.Map(document.getElementById("map"),{center:{lat:36,lng:140},zoom:13,mapTypeId:"roadmap"}),g=document.getElementById("pac-input"),n=new google.maps.places.SearchBox(g);o.controls[google.maps.ControlPosition.TOP_LEFT].push(g),o.addListener("bounds_changed",()=>{n.setBounds(o.getBounds())});let t=[];n.addListener("places_changed",()=>{const a=n.getPlaces();if(a.length==0)return;t.forEach(e=>{e.setMap(null)}),t=[];const s=new google.maps.LatLngBounds;a.forEach(e=>{if(!e.geometry){console.log("Returned place contains no geometry");return}const i={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};t.push(new google.maps.Marker({map:o,icon:i,title:e.name,position:e.geometry.location})),e.geometry.viewport?s.union(e.geometry.viewport):s.extend(e.geometry.location)}),o.fitBounds(s)})};
